.PHONY: static

PKG_CPPFLAGS="-I../inst/include/cvode"
SOURCES = $(addprefix cvode/src/cvode/, cvode.c cvode_io.c cvode_direct.c cvode_band.c cvode_dense.c cvode_diag.c cvode_spils.c cvode_spbcgs.c cvode_spgmr.c cvode_sptfqmr.c cvode_sparse.c cvode_bandpre.c cvode_bbdpre.c)
SOURCES +=  $(wildcard cvode/src/sundials/*.c)
SOURCES += cvode/src/nvec_ser/nvector_serial.c
OBJECTS = $(SOURCES:.c=.o)

static: $(OBJECTS)
				@mkdir -p ../lib
				$(AR) -rs ../lib/libStanHeaders.a $(OBJECTS)
				
clean:
				rm -rf ../lib
				rm $(OBJECTS)
